<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Profesores</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

<div class="mb-3 d-flex gap-2 flex-wrap">
    <a href="{{ url_for('materias') }}" class="btn btn-secondary">üìö Administrar materias</a>
    <a href="{{ url_for('liquidaciones') }}" class="btn btn-dark">üìã Ver liquidaciones</a>
    <a href="{{ url_for('escalas_profesor') }}" class="btn btn-info">‚öôÔ∏è Escalas profesor</a>
    <a href="{{ url_for('escalas_alumnos') }}" class="btn btn-warning">üë• Escalas alumnos</a>

    <a href="{{ url_for('configuracion_calculo') }}" class="btn btn-primary">
        üßÆ Configuraci√≥n c√°lculo liquidaci√≥n
    </a>
</div>

<h2>Profesores</h2>

<!-- üî§ FILTRO POR LETRA -->
<div class="mb-3">
    <strong>Filtrar por letra:</strong>
    <div class="d-flex flex-wrap gap-1 mt-2">

        <a href="{{ url_for('index') }}"
           class="btn btn-sm btn-outline-dark {% if not letra_actual %}active{% endif %}">
            Todos
        </a>

        {% for l in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
            <a href="{{ url_for('index', letra=l) }}"
               class="btn btn-sm btn-outline-primary {% if letra_actual == l %}active{% endif %}">
                {{ l }}
            </a>
        {% endfor %}

    </div>
</div>

<form method="POST" action="/agregar_profesor" class="row g-2 mb-4">
    <div class="col">
        <input class="form-control" name="nombre" placeholder="Nombre" required>
    </div>
    <div class="col">
        <input class="form-control" name="email" placeholder="Email">
    </div>
    <div class="col">
        <input class="form-control" name="telefono" placeholder="Tel√©fono">
    </div>
    <div class="col">
        <select name="escala" class="form-select" required>
            <option value="1">Escala 1</option>
            <option value="2">Escala 2</option>
            <option value="3">Escala 3</option>
        </select>
    </div>
    <div class="col">
        <button class="btn btn-success">Agregar</button>
    </div>
</form>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Email</th>
            <th>Tel√©fono</th>
            <th>Escala</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for p in profesores %}
        <tr>
            <td>{{ p.nombre }}</td>
            <td>{{ p.email }}</td>
            <td>{{ p.telefono }}</td>
            <td>Escala {{ p.escala }}</td>
            <td>
                <a class="btn btn-primary btn-sm" href="/seleccionar_mes/{{ p.id }}">Liquidar</a>
                <a class="btn btn-warning btn-sm" href="/editar_profesor/{{ p.id }}">Editar</a>
                <a class="btn btn-danger btn-sm" href="/borrar_profesor/{{ p.id }}"
                   onclick="return confirm('¬øSeguro?')">Borrar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

</body>
</html>